/* 1) Design tokens (LIGHT como padrão) */
@theme {
  /* Brand Synapse/EVO */
  --color-primary: #055bec;
  --color-primary-foreground: #ffffff;

  /* Superfícies e texto */
  --color-bg: #f8f9fb; /* página */
  --color-card: #ffffff;
  --color-fg: #0b0d12; /* texto */
  --color-muted: #f1f3f5; /* fundos neutros */
  --color-muted-foreground: #6b7280;

  /* Linhas e foco */
  --color-border: #e6e8ec;
  --color-input: #e6e8ec;
  --color-ring: var(--color-primary);

  /* Estados semânticos */
  --color-success: #22c55e;
  --color-warning: #f59e0b;
  --color-danger: #ef4444;
  --color-info: #06b6d4;
  --color-aprovado-300: #86efac; /* green-300 */
  --color-aprovado-400: #4ade80; /* green-400 */
  --color-aprovado-500: #22c55e; /* green-500 */

  --color-reprovado-300: #fca5a5; /* red-300 */
  --color-reprovado-400: #f87171; /* red-400 */
  --color-reprovado-500: #ef4444; /* red-500 */

  --color-vencido-300: #fde68a; /* yellow-300 */
  --color-vencido-400: #fbbf24; /* yellow-400 */
  --color-vencido-500: #f59e0b; /* yellow-500 */

  --color-analise-300: #93c5fd; /* blue-300 */
  --color-analise-400: #60a5fa; /* blue-400 */
  --color-analise-500: #3b82f6; /* blue-500 */

  /* Raios e sombras (ganha utilitário `shadow-card`) */
  --radius-xl: 1rem;
  --shadow-card: 0 8px 24px rgb(0 0 0 / 0.07);
}

/* 2) Overrides em runtime para DARK (mesmos tokens) */
[data-theme='dark'] {
  --color-bg: #0a0a0a;
  --color-card: #161616;
  --color-fg: #f5f6f7;
  --color-muted: #111214;
  --color-muted-foreground: #a9b0b8;
  --color-border: #232427;
  --color-input: #232427;
  --color-ring: var(--color-primary);
}

/* 3) Opcional: manter suporte ao prefixo `dark:` apontando para [data-theme=dark] */
@custom-variant dark (&:where([data-theme="dark"], [data-theme="dark"] *));

/* 4) Base app */
@layer base {
  :root,
  [data-theme='light'] {
    color-scheme: light;
  }
  [data-theme='dark'] {
    color-scheme: dark;
  }

  html,
  body {
    background: var(--color-bg);
    color: var(--color-fg);
  }
  * {
    border-color: var(--color-border);
  }
}

/* 5) Tokens de BADGE (cores coerentes em ambos os temas)
      Usamos color-mix para transparência adaptativa sem perder o brand */
:root,
[data-theme='light'] {
  --badge-neutral-bg: var(--color-muted);
  --badge-neutral-fg: var(--color-muted-foreground);
  --badge-neutral-border: var(--color-border);

  --badge-primary-bg: color-mix(in oklab, var(--color-primary) 18%, transparent);
  --badge-primary-fg: var(--color-primary);
  --badge-primary-border: color-mix(in oklab, var(--color-primary) 40%, transparent);

  --badge-success-bg: color-mix(in oklab, var(--color-success) 16%, transparent);
  --badge-success-fg: var(--color-success);
  --badge-success-border: color-mix(in oklab, var(--color-success) 32%, transparent);

  --badge-warning-bg: color-mix(in oklab, var(--color-warning) 16%, transparent);
  --badge-warning-fg: var(--color-warning);
  --badge-warning-border: color-mix(in oklab, var(--color-warning) 32%, transparent);

  --badge-danger-bg: color-mix(in oklab, var(--color-danger) 16%, transparent);
  --badge-danger-fg: var(--color-danger);
  --badge-danger-border: color-mix(in oklab, var(--color-danger) 32%, transparent);

  --badge-info-bg: color-mix(in oklab, var(--color-info) 16%, transparent);
  --badge-info-fg: var(--color-info);
  --badge-info-border: color-mix(in oklab, var(--color-info) 32%, transparent);
}

[data-theme='dark'] {
  --badge-neutral-bg: color-mix(in oklab, var(--color-muted) 60%, transparent);
  --badge-neutral-fg: var(--color-muted-foreground);
  --badge-neutral-border: color-mix(in oklab, var(--color-border) 90%, transparent);

  --badge-primary-bg: color-mix(in oklab, var(--color-primary) 22%, transparent);
  --badge-primary-fg: var(--color-primary);
  --badge-primary-border: color-mix(in oklab, var(--color-primary) 40%, transparent);

  --badge-success-bg: color-mix(in oklab, var(--color-success) 22%, transparent);
  --badge-success-fg: var(--color-success);
  --badge-success-border: color-mix(in oklab, var(--color-success) 40%, transparent);

  --badge-warning-bg: color-mix(in oklab, var(--color-warning) 22%, transparent);
  --badge-warning-fg: var(--color-warning);
  --badge-warning-border: color-mix(in oklab, var(--color-warning) 40%, transparent);

  --badge-danger-bg: color-mix(in oklab, var(--color-danger) 22%, transparent);
  --badge-danger-fg: var(--color-danger);
  --badge-danger-border: color-mix(in oklab, var(--color-danger) 40%, transparent);

  --badge-info-bg: color-mix(in oklab, var(--color-info) 22%, transparent);
  --badge-info-fg: var(--color-info);
  --badge-info-border: color-mix(in oklab, var(--color-info) 40%, transparent);
}

/* 6) Componentização de badge (usa apenas tokens) */
@layer components {
  .badge {
    .badge {
      @apply inline-flex items-center px-4 py-1 rounded-lg text-xs font-medium border;
    }
    .badge-neutral {
      background: var(--badge-neutral-bg);
      color: var(--badge-neutral-fg);
      border-color: var(--badge-neutral-border);
    }
    .badge-primary {
      background: var(--badge-primary-bg);
      color: var(--badge-primary-fg);
      border-color: var(--badge-primary-border);
    }
    .badge-success {
      background: var(--badge-success-bg);
      color: var(--badge-success-fg);
      border-color: var(--badge-success-border);
    }
    .badge-warning {
      background: var(--badge-warning-bg);
      color: var(--badge-warning-fg);
      border-color: var(--badge-warning-border);
    }
    .badge-danger {
      background: var(--badge-danger-bg);
      color: var(--badge-danger-fg);
      border-color: var(--badge-danger-border);
    }
    .badge-info {
      background: var(--badge-info-bg);
      color: var(--badge-info-fg);
      border-color: var(--badge-info-border);
    }
    .badge-aprovado {
      background: var(--color-aprovado-500) / 10;
      color: var(--color-aprovado-300);
      border-color: var(--color-aprovado-400) / 40;
    }

    .badge-reprovado {
      background: var(--color-reprovado-500) / 10;
      color: var(--color-reprovado-300);
      border-color: var(--color-reprovado-400) / 40;
    }

    .badge-vencido {
      background: var(--color-vencido-500) / 10;
      color: var(--color-vencido-300);
      border-color: var(--color-vencido-400) / 40;
    }

    .badge-analise {
      background: var(--color-analise-500) / 10;
      color: var(--color-analise-300);
      border-color: var(--color-analise-400) / 40;
    }
  }
}
